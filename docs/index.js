(()=>{"use strict";var e={753:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=0,r=e.length-t){let i=-1;for(let s=t,a=t+r;s<a;s++)i=i>>>8^n[255&(i^e[s])];return-1^i};const n=new Uint32Array(256);for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)t=0!=(1&t)?3988292384^t>>>1:t>>>1;n[e]=t}},14:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){const t=new Uint8Array(e);if(Array.prototype.some.call(u,((e,n)=>e!==t[n])))return a;let n=!1;if(l(t,(e=>!(n="acTL"===e))),!n)return o;const r=[],i=[];let c=null,f=null,m=0,v=new s.APNG;if(l(t,((e,t,n,a)=>{const o=new DataView(t.buffer);switch(e){case"IHDR":c=t.subarray(n+8,n+8+a),v.width=o.getUint32(n+8),v.height=o.getUint32(n+12);break;case"acTL":v.numPlays=o.getUint32(n+8+4);break;case"fcTL":f&&(v.frames.push(f),m++),f=new s.Frame,f.width=o.getUint32(n+8+4),f.height=o.getUint32(n+8+8),f.left=o.getUint32(n+8+12),f.top=o.getUint32(n+8+16);var u=o.getUint16(n+8+20),l=o.getUint16(n+8+22);0===l&&(l=100),f.delay=1e3*u/l,f.delay<=10&&(f.delay=100),v.playTime+=f.delay,f.disposeOp=o.getUint8(n+8+24),f.blendOp=o.getUint8(n+8+25),f.dataParts=[],0===m&&2===f.disposeOp&&(f.disposeOp=1);break;case"fdAT":f&&f.dataParts.push(t.subarray(n+8+4,n+8+a));break;case"IDAT":f&&f.dataParts.push(t.subarray(n+8,n+8+a));break;case"IEND":i.push(p(t,n,12+a));break;default:r.push(p(t,n,12+a))}})),f&&v.frames.push(f),0==v.frames.length)return o;const g=new Blob(r),y=new Blob(i);return v.frames.forEach((e=>{var t=[];t.push(u),c.set(d(e.width),0),c.set(d(e.height),4),t.push(h("IHDR",c)),t.push(g),e.dataParts.forEach((e=>t.push(h("IDAT",e)))),t.push(y),e.imageData=new Blob(t,{type:"image/png"}),delete e.dataParts,t=null})),v},t.isNotAPNG=function(e){return e===o},t.isNotPNG=function(e){return e===a};var r,i=(r=n(753))&&r.__esModule?r:{default:r},s=n(206);const a=new Error("Not a PNG"),o=new Error("Not an animated PNG"),u=new Uint8Array([137,80,78,71,13,10,26,10]);function l(e,t){const n=new DataView(e.buffer);let r,i,s,a=8;do{i=n.getUint32(a),r=c(e,a+4,4),s=t(r,e,a,i),a+=12+i}while(!1!==s&&"IEND"!=r&&a<e.length)}function c(e,t,n){const r=Array.prototype.slice.call(e.subarray(t,t+n));return String.fromCharCode.apply(String,r)}function p(e,t,n){const r=new Uint8Array(n);return r.set(e.subarray(t,t+n)),r}var h=function(e,t){const n=e.length+t.length,r=new Uint8Array(n+8),s=new DataView(r.buffer);s.setUint32(0,t.length),r.set(function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e),4),r.set(t,8);var a=(0,i.default)(r,4,n);return s.setUint32(n+4,a),r},d=function(e){return new Uint8Array([e>>>24&255,e>>>16&255,e>>>8&255,255&e])}},34:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(187))&&r.__esModule?r:{default:r};class s extends i.default{constructor(e,t,n){super(),this.playbackRate=1,this._currentFrameNumber=0,this._ended=!1,this._paused=!0,this._numPlays=0,this._apng=e,this.context=t,this.stop(),n&&this.play()}get currentFrameNumber(){return this._currentFrameNumber}get currentFrame(){return this._apng.frames[this._currentFrameNumber]}renderNextFrame(){this._currentFrameNumber=(this._currentFrameNumber+1)%this._apng.frames.length,this._currentFrameNumber===this._apng.frames.length-1&&(this._numPlays++,0!==this._apng.numPlays&&this._numPlays>=this._apng.numPlays&&(this._ended=!0,this._paused=!0)),this._prevFrame&&1==this._prevFrame.disposeOp?this.context.clearRect(this._prevFrame.left,this._prevFrame.top,this._prevFrame.width,this._prevFrame.height):this._prevFrame&&2==this._prevFrame.disposeOp&&this.context.putImageData(this._prevFrameData,this._prevFrame.left,this._prevFrame.top);const e=this.currentFrame;this._prevFrame=e,this._prevFrameData=null,2==e.disposeOp&&(this._prevFrameData=this.context.getImageData(e.left,e.top,e.width,e.height)),0==e.blendOp&&this.context.clearRect(e.left,e.top,e.width,e.height),this.context.drawImage(e.imageElement,e.left,e.top),this.emit("frame",this._currentFrameNumber),this._ended&&this.emit("end")}get paused(){return this._paused}get ended(){return this._ended}play(){this.emit("play"),this._ended&&this.stop(),this._paused=!1;let e=performance.now()+this.currentFrame.delay/this.playbackRate;const t=n=>{if(!this._ended&&!this._paused){if(n>=e){for(;n-e>=this._apng.playTime/this.playbackRate;)e+=this._apng.playTime/this.playbackRate,this._numPlays++;do{this.renderNextFrame(),e+=this.currentFrame.delay/this.playbackRate}while(!this._ended&&n>e)}requestAnimationFrame(t)}};requestAnimationFrame(t)}pause(){this._paused||(this.emit("pause"),this._paused=!0)}stop(){this.emit("stop"),this._numPlays=0,this._ended=!1,this._paused=!0,this._currentFrameNumber=-1,this.context.clearRect(0,0,this._apng.width,this._apng.height),this.renderNextFrame()}}t.default=s},206:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=t.APNG=void 0;var r=s(n(34)),i=s(n(187));function s(e){return e&&e.__esModule?e:{default:e}}class a extends i.default{constructor(...e){return super(...e),this.width=0,this.height=0,this.numPlays=0,this.playTime=0,this.frames=[],this}createImages(){var e=this;return Promise.all(e.frames.map((e=>e.createImage()))).then((function(t){e.emit("loaded")}))}getPlayer(e,t=!1){return this.createImages().then((()=>new r.default(this,e,t)))}}t.APNG=a,t.Frame=class{constructor(){this.left=0,this.top=0,this.width=0,this.height=0,this.delay=0,this.disposeOp=0,this.blendOp=0,this.imageData=null,this.imageElement=null}createImage(){return this.imageElement?Promise.resolve():new Promise(((e,t)=>{const n=URL.createObjectURL(this.imageData);this.imageElement=document.createElement("img"),this.imageElement.onload=()=>{URL.revokeObjectURL(n),e()},this.imageElement.onerror=()=>{URL.revokeObjectURL(n),this.imageElement=null,t(new Error("Image creation error"))},this.imageElement.src=n}))}}},975:(e,t,n)=>{n.d(t,{Z:()=>o});var r=n(81),i=n.n(r),s=n(645),a=n.n(s)()(i());a.push([e.id,".apng-info,\n.apng-frames {\n    max-height: 600px;\n    overflow:   auto;\n}\n\n.apng-frames > div {\n    float:            left;\n    margin:           1px 1px 8px 8px;\n    box-shadow:       0 0 0 1px;\n    position:         relative;\n    background:       linear-gradient(45deg, #fff 25%, transparent 26%, transparent 75%, #fff 76%),\n                      linear-gradient(-45deg, #fff 25%, transparent 26%, transparent 75%, #fff 76%);\n    background-color: #eee;\n    background-size:  20px 20px;\n}\n\n.apng-frames > div > img {\n    position:   absolute;\n    box-shadow: 0 0 0 1px rgba(255, 0, 0, 0.75);\n}\n\n#playback-rate {\n    width:   12em;\n    display: inline-block;\n}\n\n.apng-log {\n    height: 10em;\n}",""]);const o=a},645:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,i,s){"string"==typeof e&&(e=[[null,e,void 0]]);var a={};if(r)for(var o=0;o<this.length;o++){var u=this[o][0];null!=u&&(a[u]=!0)}for(var l=0;l<e.length;l++){var c=[].concat(e[l]);r&&a[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),i&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=i):c[4]="".concat(i)),t.push(c))}},t}},81:e=>{e.exports=function(e){return e[1]}},187:e=>{var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,s,a,l;if(o(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),a=s[t]),void 0===a)a=s[t]=n,++e._eventsCount;else if("function"==typeof a?a=s[t]=r?[n,a]:[a,n]:r?a.unshift(n):a.push(n),(i=u(e))>0&&a.length>i&&!a.warned){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=a.length,l=c,console&&console.warn&&console.warn(l)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function h(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):f(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function f(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");a=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var o=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw o.context=a,o}var u=s[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var l=u.length,c=f(u,l);for(n=0;n<l;++n)r(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return o(t),this.on(e,p(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,p(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,a;if(o(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){a=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,a||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return h(this,e,!0)},s.prototype.rawListeners=function(e){return h(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},s.prototype.listenerCount=d,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},665:(e,t,n)=>{n.r(t),n.d(t,{default:()=>g});var r=n(379),i=n.n(r),s=n(795),a=n.n(s),o=n(569),u=n.n(o),l=n(565),c=n.n(l),p=n(216),h=n.n(p),d=n(589),f=n.n(d),m=n(975),v={};v.styleTagTransform=f(),v.setAttributes=c(),v.insert=u().bind(null,"head"),v.domAPI=a(),v.insertStyleElement=h(),i()(m.Z,v);const g=m.Z&&m.Z.locals?m.Z.locals:void 0},379:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var s={},a=[],o=0;o<e.length;o++){var u=e[o],l=r.base?u[0]+r.base:u[0],c=s[l]||0,p="".concat(l," ").concat(c);s[l]=c+1;var h=n(p),d={css:u[1],media:u[2],sourceMap:u[3],supports:u[4],layer:u[5]};if(-1!==h)t[h].references++,t[h].updater(d);else{var f=i(d,r);r.byIndex=o,t.splice(o,0,{identifier:p,updater:f,references:1})}a.push(p)}return a}function i(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,i){var s=r(e=e||[],i=i||{});return function(e){e=e||[];for(var a=0;a<s.length;a++){var o=n(s[a]);t[o].references--}for(var u=r(e,i),l=0;l<s.length;l++){var c=n(s[l]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=u}}},569:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},216:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},565:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},795:e=>{e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var i=void 0!==n.layer;i&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,i&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},589:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0,(()=>{var e,t=(e=n(14))&&e.__esModule?e:{default:e};n(665);const r=document.createElement("input");r.type="file",r.accept="image/png",document.getElementById("choose-btn").addEventListener("click",(()=>r.click())),r.addEventListener("change",(()=>{r.files.length>0&&function(e){const n=document.querySelector(".apng-result"),r=document.querySelector(".apng-error"),o=r.querySelector(".alert"),u=document.querySelector(".apng-info"),l=document.querySelector(".apng-frames"),c=document.querySelector(".apng-ani"),p=document.querySelector(".apng-log");n.classList.add("hidden"),r.classList.add("hidden"),a(u),a(l),a(c),a(o),a(p),i&&i.stop();const h=[],d=new FileReader;d.onload=()=>{const e=(0,t.default)(d.result);if(e instanceof Error)return o.appendChild(document.createTextNode(e.message)),void r.classList.remove("hidden");e.createImages().then((()=>{u.appendChild(document.createTextNode(JSON.stringify(e,null,"  "))),e.frames.forEach((t=>{const n=l.appendChild(document.createElement("div"));n.appendChild(t.imageElement),n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,t.imageElement.style.left=`${t.left}px`,t.imageElement.style.top=`${t.top}px`}));const t=document.createElement("canvas");t.width=e.width,t.height=e.height,c.appendChild(t),e.getPlayer(t.getContext("2d")).then((e=>{i=e,i.playbackRate=s;const t=i.emit;i.emit=(e,...n)=>{h.unshift({event:e,args:n}),h.length>10&&h.splice(10,h.length-10),p.textContent=h.map((({event:e,args:t})=>`${e}: ${JSON.stringify(t)}`)).join("\n"),t.call(i,e,...n)},i.play()}))})),n.classList.remove("hidden")},d.readAsArrayBuffer(e)}(r.files[0]),r.value=""}));let i=null;document.getElementById("play-pause-btn").addEventListener("click",(()=>{i&&(i.paused?i.play():i.pause())})),document.getElementById("stop-btn").addEventListener("click",(()=>i&&i.stop()));let s=1;function a(e){let t;for(;null!==(t=e.firstChild);)e.removeChild(t)}document.getElementById("playback-rate").addEventListener("change",(e=>{s=parseFloat(e.target.value),document.getElementById("playback-rate-display").innerHTML=s.toString(),i&&(i.playbackRate=s)}))})()})();