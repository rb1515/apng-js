(()=>{var e={753:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t=0,r=e.length-t){let i=-1;for(let s=t,o=t+r;s<o;s++)i=i>>>8^n[255&(i^e[s])];return-1^i};const n=new Uint32Array(256);for(let e=0;e<256;e++){let t=e;for(let e=0;e<8;e++)t=0!=(1&t)?3988292384^t>>>1:t>>>1;n[e]=t}},14:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isNotPNG=function(e){return e===o},t.isNotAPNG=function(e){return e===a},t.default=function(e){const t=new Uint8Array(e);if(Array.prototype.some.call(u,((e,n)=>e!==t[n])))return o;let n=!1;if(l(t,(e=>!(n="acTL"===e))),!n)return a;const r=[],i=[];let c=null,d=null,m=0,v=new s.APNG;if(l(t,((e,t,n,o)=>{const a=new DataView(t.buffer);switch(e){case"IHDR":c=t.subarray(n+8,n+8+o),v.width=a.getUint32(n+8),v.height=a.getUint32(n+12);break;case"acTL":v.numPlays=a.getUint32(n+8+4);break;case"fcTL":d&&(v.frames.push(d),m++),d=new s.Frame,d.width=a.getUint32(n+8+4),d.height=a.getUint32(n+8+8),d.left=a.getUint32(n+8+12),d.top=a.getUint32(n+8+16);var u=a.getUint16(n+8+20),l=a.getUint16(n+8+22);0===l&&(l=100),d.delay=1e3*u/l,d.delay<=10&&(d.delay=100),v.playTime+=d.delay,d.disposeOp=a.getUint8(n+8+24),d.blendOp=a.getUint8(n+8+25),d.dataParts=[],0===m&&2===d.disposeOp&&(d.disposeOp=1);break;case"fdAT":d&&d.dataParts.push(t.subarray(n+8+4,n+8+o));break;case"IDAT":d&&d.dataParts.push(t.subarray(n+8,n+8+o));break;case"IEND":i.push(h(t,n,12+o));break;default:r.push(h(t,n,12+o))}})),d&&v.frames.push(d),0==v.frames.length)return a;const g=new Blob(r),y=new Blob(i);return v.frames.forEach((e=>{var t=[];t.push(u),c.set(f(e.width),0),c.set(f(e.height),4),t.push(p("IHDR",c)),t.push(g),e.dataParts.forEach((e=>t.push(p("IDAT",e)))),t.push(y),e.imageData=new Blob(t,{type:"image/png"}),delete e.dataParts,t=null})),v};var r,i=(r=n(753))&&r.__esModule?r:{default:r},s=n(206);const o=new Error("Not a PNG"),a=new Error("Not an animated PNG"),u=new Uint8Array([137,80,78,71,13,10,26,10]);function l(e,t){const n=new DataView(e.buffer);let r,i,s,o=8;do{i=n.getUint32(o),r=c(e,o+4,4),s=t(r,e,o,i),o+=12+i}while(!1!==s&&"IEND"!=r&&o<e.length)}function c(e,t,n){const r=Array.prototype.slice.call(e.subarray(t,t+n));return String.fromCharCode.apply(String,r)}function h(e,t,n){const r=new Uint8Array(n);return r.set(e.subarray(t,t+n)),r}var p=function(e,t){const n=e.length+t.length,r=new Uint8Array(n+8),s=new DataView(r.buffer);s.setUint32(0,t.length),r.set(function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(e),4),r.set(t,8);var o=(0,i.default)(r,4,n);return s.setUint32(n+4,o),r},f=function(e){return new Uint8Array([e>>>24&255,e>>>16&255,e>>>8&255,255&e])}},34:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,i=(r=n(187))&&r.__esModule?r:{default:r};class s extends i.default{constructor(e,t,n){super(),this.playbackRate=1,this._currentFrameNumber=0,this._ended=!1,this._paused=!0,this._numPlays=0,this._apng=e,this.context=t,this.stop(),n&&this.play()}get currentFrameNumber(){return this._currentFrameNumber}get currentFrame(){return this._apng.frames[this._currentFrameNumber]}renderNextFrame(){this._currentFrameNumber=(this._currentFrameNumber+1)%this._apng.frames.length,this._currentFrameNumber===this._apng.frames.length-1&&(this._numPlays++,0!==this._apng.numPlays&&this._numPlays>=this._apng.numPlays&&(this._ended=!0,this._paused=!0)),this._prevFrame&&1==this._prevFrame.disposeOp?this.context.clearRect(this._prevFrame.left,this._prevFrame.top,this._prevFrame.width,this._prevFrame.height):this._prevFrame&&2==this._prevFrame.disposeOp&&this.context.putImageData(this._prevFrameData,this._prevFrame.left,this._prevFrame.top);const e=this.currentFrame;this._prevFrame=e,this._prevFrameData=null,2==e.disposeOp&&(this._prevFrameData=this.context.getImageData(e.left,e.top,e.width,e.height)),0==e.blendOp&&this.context.clearRect(e.left,e.top,e.width,e.height),this.context.drawImage(e.imageElement,e.left,e.top),this.emit("frame",this._currentFrameNumber),this._ended&&this.emit("end")}get paused(){return this._paused}get ended(){return this._ended}play(){this.emit("play"),this._ended&&this.stop(),this._paused=!1;let e=performance.now()+this.currentFrame.delay/this.playbackRate;const t=n=>{if(!this._ended&&!this._paused){if(n>=e){for(;n-e>=this._apng.playTime/this.playbackRate;)e+=this._apng.playTime/this.playbackRate,this._numPlays++;do{this.renderNextFrame(),e+=this.currentFrame.delay/this.playbackRate}while(!this._ended&&n>e)}requestAnimationFrame(t)}};requestAnimationFrame(t)}pause(){this._paused||(this.emit("pause"),this._paused=!0)}stop(){this.emit("stop"),this._numPlays=0,this._ended=!1,this._paused=!0,this._currentFrameNumber=-1,this.context.clearRect(0,0,this._apng.width,this._apng.height),this.renderNextFrame()}}t.default=s},206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Frame=t.APNG=void 0;var r=s(n(34)),i=s(n(187));function s(e){return e&&e.__esModule?e:{default:e}}class o extends i.default{constructor(...e){var t;return t=super(...e),this.width=0,this.height=0,this.numPlays=0,this.playTime=0,this.frames=[],t}createImages(){return console.log("createImages"),Promise.all(this.frames.map((e=>e.createImage()))).then((function(e){console.log("promise end"),console.log(e),this.emit("loaded")}))}getPlayer(e,t=!1){return this.createImages().then((()=>new r.default(this,e,t)))}}t.APNG=o,t.Frame=class{constructor(){this.left=0,this.top=0,this.width=0,this.height=0,this.delay=0,this.disposeOp=0,this.blendOp=0,this.imageData=null,this.imageElement=null}createImage(){return this.imageElement?Promise.resolve():new Promise(((e,t)=>{const n=URL.createObjectURL(this.imageData);this.imageElement=document.createElement("img"),this.imageElement.onload=()=>{URL.revokeObjectURL(n),e()},this.imageElement.onerror=()=>{URL.revokeObjectURL(n),this.imageElement=null,t(new Error("Image creation error"))},this.imageElement.src=n}))}}},975:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>s});var r=n(645),i=n.n(r)()((function(e){return e[1]}));i.push([e.id,".apng-info,\n.apng-frames {\n    max-height: 600px;\n    overflow:   auto;\n}\n\n.apng-frames > div {\n    float:            left;\n    margin:           1px 1px 8px 8px;\n    box-shadow:       0 0 0 1px;\n    position:         relative;\n    background:       linear-gradient(45deg, #fff 25%, transparent 26%, transparent 75%, #fff 76%),\n                      linear-gradient(-45deg, #fff 25%, transparent 26%, transparent 75%, #fff 76%);\n    background-color: #eee;\n    background-size:  20px 20px;\n}\n\n.apng-frames > div > img {\n    position:   absolute;\n    box-shadow: 0 0 0 1px rgba(255, 0, 0, 0.75);\n}\n\n#playback-rate {\n    width:   12em;\n    display: inline-block;\n}\n\n.apng-log {\n    height: 10em;\n}",""]);const s=i},645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var i={};if(r)for(var s=0;s<this.length;s++){var o=this[s][0];null!=o&&(i[o]=!0)}for(var a=0;a<e.length;a++){var u=[].concat(e[a]);r&&i[u[0]]||(n&&(u[2]?u[2]="".concat(n," and ").concat(u[2]):u[2]=n),t.push(u))}},t}},187:e=>{"use strict";var t,n="object"==typeof Reflect?Reflect:null,r=n&&"function"==typeof n.apply?n.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};t=n&&"function"==typeof n.ownKeys?n.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function s(){s.init.call(this)}e.exports=s,e.exports.once=function(e,t){return new Promise((function(n,r){function i(n){e.removeListener(t,s),r(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",i),n([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,{once:!0})}(e,i)}))},s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?s.defaultMaxListeners:e._maxListeners}function l(e,t,n,r){var i,s,o,l;if(a(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),(i=u(e))>0&&o.length>i&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,l=c,console&&console.warn&&console.warn(l)}return e}function c(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=c.bind(r);return i.listener=n,r.wrapFn=i,i}function p(e,t,n){var r=e._events;if(void 0===r)return[];var i=r[t];return void 0===i?[]:"function"==typeof i?n?[i.listener||i]:[i]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(i):d(i,i.length)}function f(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function d(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function m(e,t,n,r){if("function"==typeof e.on)r.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(s){r.once&&e.removeEventListener(t,i),n(s)}))}}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");o=e}}),s.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},s.prototype.getMaxListeners=function(){return u(this)},s.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,s=this._events;if(void 0!==s)i=i&&void 0===s.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var u=s[e];if(void 0===u)return!1;if("function"==typeof u)r(u,this,t);else{var l=u.length,c=d(u,l);for(n=0;n<l;++n)r(c[n],this,t)}return!0},s.prototype.addListener=function(e,t){return l(this,e,t,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(e,t){return l(this,e,t,!0)},s.prototype.once=function(e,t){return a(t),this.on(e,h(this,e,t)),this},s.prototype.prependOnceListener=function(e,t){return a(t),this.prependListener(e,h(this,e,t)),this},s.prototype.removeListener=function(e,t){var n,r,i,s,o;if(a(t),void 0===(r=this._events))return this;if(void 0===(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,i),1===n.length&&(r[e]=n[0]),void 0!==r.removeListener&&this.emit("removeListener",e,o||t)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(e){var t,n,r;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var i,s=Object.keys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},s.prototype.listeners=function(e){return p(this,e,!0)},s.prototype.rawListeners=function(e){return p(this,e,!1)},s.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):f.call(e,t)},s.prototype.listenerCount=f,s.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},246:e=>{var t={},n=function(e){var t;return function(){return void 0===t&&(t=e.apply(this,arguments)),t}},r=n((function(){return/msie [6-9]\b/.test(self.navigator.userAgent.toLowerCase())})),i=n((function(){return document.head||document.getElementsByTagName("head")[0]})),s=null,o=0,a=[];function u(e,n){for(var r=0;r<e.length;r++){var i=e[r],s=t[i.id];if(s){s.refs++;for(var o=0;o<s.parts.length;o++)s.parts[o](i.parts[o]);for(;o<i.parts.length;o++)s.parts.push(f(i.parts[o],n))}else{var a=[];for(o=0;o<i.parts.length;o++)a.push(f(i.parts[o],n));t[i.id]={id:i.id,refs:1,parts:a}}}}function l(e){for(var t=[],n={},r=0;r<e.length;r++){var i=e[r],s=i[0],o={css:i[1],media:i[2],sourceMap:i[3]};n[s]?n[s].parts.push(o):t.push(n[s]={id:s,parts:[o]})}return t}function c(e,t){var n=i(),r=a[a.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),a.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(t)}}function h(e){e.parentNode.removeChild(e);var t=a.indexOf(e);t>=0&&a.splice(t,1)}function p(e){var t=document.createElement("style");return t.type="text/css",c(e,t),t}function f(e,t){var n,r,i;if(t.singleton){var a=o++;n=s||(s=p(t)),r=v.bind(null,n,a,!1),i=v.bind(null,n,a,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return t.rel="stylesheet",c(e,t),t}(t),r=y.bind(null,n),i=function(){h(n),n.href&&URL.revokeObjectURL(n.href)}):(n=p(t),r=g.bind(null,n),i=function(){h(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else i()}}e.exports=function(e,n){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");void 0===(n=n||{}).singleton&&(n.singleton=r()),void 0===n.insertAt&&(n.insertAt="bottom");var i=l(e);return u(i,n),function(e){for(var r=[],s=0;s<i.length;s++){var o=i[s];(a=t[o.id]).refs--,r.push(a)}for(e&&u(l(e),n),s=0;s<r.length;s++){var a;if(0===(a=r[s]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete t[a.id]}}}};var d,m=(d=[],function(e,t){return d[e]=t,d.filter(Boolean).join("\n")});function v(e,t,n,r){var i=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=m(t,i);else{var s=document.createTextNode(i),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(s,o[t]):e.appendChild(s)}}function g(e,t){var n=t.css,r=t.media;if(r&&e.setAttribute("media",r),e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}function y(e,t){var n=t.css,r=t.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var i=new Blob([n],{type:"text/css"}),s=e.href;e.href=URL.createObjectURL(i),s&&URL.revokeObjectURL(s)}},320:(e,t,n)=>{var r=n(975);"string"==typeof r&&(r=[[e.id,r,""]]),n(246)(r,{}),r.locals&&(e.exports=r.locals)}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={id:r,exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e,t=(e=n(14))&&e.__esModule?e:{default:e};n(320);const r=document.createElement("input");r.type="file",r.accept="image/png",document.getElementById("choose-btn").addEventListener("click",(()=>r.click())),r.addEventListener("change",(()=>{r.files.length>0&&function(e){const n=document.querySelector(".apng-result"),r=document.querySelector(".apng-error"),a=r.querySelector(".alert"),u=document.querySelector(".apng-info"),l=document.querySelector(".apng-frames"),c=document.querySelector(".apng-ani"),h=document.querySelector(".apng-log");n.classList.add("hidden"),r.classList.add("hidden"),o(u),o(l),o(c),o(a),o(h),i&&i.stop();const p=[],f=new FileReader;f.onload=()=>{const e=(0,t.default)(f.result);if(e instanceof Error)return a.appendChild(document.createTextNode(e.message)),void r.classList.remove("hidden");e.createImages().then((()=>{u.appendChild(document.createTextNode(JSON.stringify(e,null,"  "))),e.frames.forEach((t=>{const n=l.appendChild(document.createElement("div"));n.appendChild(t.imageElement),n.style.width=`${e.width}px`,n.style.height=`${e.height}px`,t.imageElement.style.left=`${t.left}px`,t.imageElement.style.top=`${t.top}px`}));const t=document.createElement("canvas");t.width=e.width,t.height=e.height,c.appendChild(t),e.getPlayer(t.getContext("2d")).then((e=>{i=e,i.playbackRate=s;const t=i.emit;i.emit=(e,...n)=>{p.unshift({event:e,args:n}),p.length>10&&p.splice(10,p.length-10),h.textContent=p.map((({event:e,args:t})=>`${e}: ${JSON.stringify(t)}`)).join("\n"),t.call(i,e,...n)},i.play()}))})),n.classList.remove("hidden")},f.readAsArrayBuffer(e)}(r.files[0]),r.value=""}));let i=null;document.getElementById("play-pause-btn").addEventListener("click",(()=>{i&&(i.paused?i.play():i.pause())})),document.getElementById("stop-btn").addEventListener("click",(()=>i&&i.stop()));let s=1;function o(e){let t;for(;null!==(t=e.firstChild);)e.removeChild(t)}document.getElementById("playback-rate").addEventListener("change",(e=>{s=parseFloat(e.target.value),document.getElementById("playback-rate-display").innerHTML=s.toString(),i&&(i.playbackRate=s)}))})()})();